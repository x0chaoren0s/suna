# 短期记忆（活跃）

> 最后更新：2025-11-17 19:37
> 自动整理周期：7天（MVP阶段暂不支持）

## 进行中的工作

### • 部署biye项目跨终端记忆系统

**发起时间**: 2025-11-17 17:13  
**类型**: 项目部署 + 架构设计  
**状态**: 进行中（准备切换终端）  
**来源终端**: 【小黑：本地】  
**当前终端**: 【大黑-毕业win10：Ubuntu：suna】

**工作目标**：
将suna的跨终端记忆机制部署到biye项目，实现多终端开发的一致体验。

**已完成的讨论**：
1. **应用场景分析**：biye项目多终端远程开发，需要跨终端记忆共享
2. **方案探讨**（5种）：独立记忆、嵌套记忆、共享记忆池、框架化、双记忆标记
3. **推荐架构**：框架化+知识库分离
   - biye有独立`.memory/`（业务知识）
   - suna有独立`.memory/`（框架知识）
   - 知识边界清晰，各自独立演进
4. **上下文识别方案**（5种）：文件路径判断、显式命令、智能分析、工作区感知、双记忆标记
5. **推荐实现**：智能分析+确认机制 + 显式命令混合
   - 高置信度自动判断，低置信度询问
   - 支持`HARVEST suna`显式指定
6. **实施策略**：渐进式（MVP→双记忆→智能判断）

**本次进展**（2025-11-17 19:37）：
- ✅ 澄清终端架构（3个终端关系）：
  * 【大黑-毕业win10：Ubuntu：suna】- 当前测试终端
  * 【大黑-毕业win10：Ubuntu：biye】- Ubuntu测试环境（有latex经验）
  * 【大黑-毕业win10：hainan：biye】- 主战场（大量实验结果）
- ✅ 调整实施策略：
  * 阶段0：Ubuntu-biye 测试MVP（30分钟）
  * 阶段1：迁移到hainan主战场（1小时）
  * 阶段2：持续优化
- ✅ 克隆 suna 到 `/home/xxy/projects/biye/suna`
- ⏭️ 准备切换到【大黑-毕业win10：Ubuntu：biye】workspace

**下一步行动**：
1. 切换 Cursor workspace 到 `/home/xxy/projects/biye`
2. 在新终端【大黑-毕业win10：Ubuntu：biye】执行 `SYNC` 学习此记忆
3. 开始 MVP 部署（初始化记忆系统）

**相关讨论记录**：
- 完整方案探讨（INNOVATE模式）
- 上下文识别机制设计
- 渐进式实施路径规划
- 终端架构澄清和策略调整

---

### • 终端命名规范更新

**更新时间**: 2025-11-17 19:37  
**类型**: 配置更新 + 命名规范  
**状态**: 需通知其他终端

**变更内容**：
- 终端名称从【大黑-毕业win10：Ubuntu】改为【大黑-毕业win10：Ubuntu：suna】
- 更新了 `.memory/config/system.json`：
  * `current_terminal_id`: `dahei_biye_win10_ubuntu_suna`
  * `display_name`: `【大黑-毕业win10：Ubuntu：suna】`

**变更原因**：
- 区分不同项目的workspace（suna项目 vs biye项目）
- 更清晰的终端标识，避免混淆
- 终端名称格式：【计算机名：环境名：项目名】

**通知事项**：
- ⚠️ **【小黑：本地】应同步改为【小黑：本地：suna】**
- 其他终端如遇到【大黑-毕业win10：Ubuntu】应识别为旧名称
- 新建的【大黑-毕业win10：Ubuntu：biye】将使用新命名规范

**相关文件**：
- `.memory/config/system.json`

---

### • 跨平台时间获取命令改进

**发现时间**: 2025-11-17 16:17  
**类型**: Bug修复 + 协议改进  
**状态**: 已完成

**问题**：
- 协议中推荐的 `Get-Date -AsUTC` 在旧版PowerShell中不支持
- Windows CMD完全不支持 `date -u` 命令
- AI在未测试的情况下就提交了代码

**解决方案**：
- 用户测试验证了真正跨平台的Python命令：
  ```bash
  python -c "import datetime; print(datetime.datetime.now(datetime.UTC).strftime('%Y-%m-%dT%H:%M:%SZ'))"
  ```
- 已在 Ubuntu/PowerShell/CMD 三个平台测试通过
- 更新了协议中所有时间获取命令引用（3处）

**经验教训**：
- 命令验证必须先测试后提交，不能假设兼容性
- 跨平台开发需要实际测试各个目标平台
- Python方案在多平台一致性方面更可靠

**相关文件**：
- `.memory/config/MEMORY-PROTOCOL.md` (第296-327行, 676-690行, 533-543行)

---
**总计**: 3条活跃短期记忆（1条进行中，2条配置更新）

**最近工作**：
- biye项目记忆系统部署：澄清终端架构，克隆suna，准备切换workspace
- 终端命名规范更新：改为【计算机：环境：项目】格式
- 跨平台时间获取命令：已验证并更新为Python通用方案
- 记忆时间时区问题：已添加时间处理规则（存储UTC，显示UTC+8）
